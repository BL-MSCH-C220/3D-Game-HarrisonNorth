[gd_scene load_steps=37 format=3 uid="uid://x0kk3757h0uw"]

[ext_resource type="Texture2D" uid="uid://j4d3jtwu31gp" path="res://Assets/bark.png" id="1_s8oft"]
[ext_resource type="Script" path="res://Player/player.gd" id="1_th5q2"]
[ext_resource type="Texture2D" uid="uid://bq4jdvnu3qosa" path="res://Assets/grass.png" id="1_vwi8n"]
[ext_resource type="Shader" path="res://Assets/Sky.gdshader" id="1_whwia"]
[ext_resource type="Script" path="res://Player/Camera3D.gd" id="2_5gf7x"]
[ext_resource type="Texture2D" uid="uid://c3b8ttvmcfhbt" path="res://Assets/Pine.png" id="2_qm07b"]
[ext_resource type="ArrayMesh" uid="uid://kqcem4b74ivv" path="res://Assets/Gun.obj" id="2_txnf1"]
[ext_resource type="Script" path="res://World/Menu.gd" id="4_vegvx"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_04ink"]
shader = ExtResource("1_whwia")
shader_parameter/skyColor = Color(0, 0, 0.266667, 1)

[sub_resource type="Sky" id="Sky_q34lk"]
sky_material = SubResource("ShaderMaterial_04ink")

[sub_resource type="Environment" id="Environment_k1gny"]
background_mode = 2
sky = SubResource("Sky_q34lk")
ambient_light_source = 3
ambient_light_energy = 10.0
reflected_light_source = 2

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_00s44"]
albedo_texture = ExtResource("1_s8oft")

[sub_resource type="CylinderMesh" id="CylinderMesh_wxr1h"]
height = 6.0

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_xrejx"]

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_lknb0"]
points = PackedVector3Array(-0.5, -3, 0, -0.497651, -3, -0.0490407, -0.497651, -3, 0.0489429, -0.5, 3, 0, -0.490407, -3, -0.097592, -0.497651, 3, -0.0490407, -0.490407, -3, 0.0974941, -0.497651, 3, 0.0489429, -0.478563, -3, -0.145164, -0.490407, 3, -0.097592, -0.478563, -3, 0.145067, -0.490407, 3, 0.0974941, -0.46202, -3, -0.191366, -0.478563, 3, -0.145164, -0.46202, -3, 0.191269, -0.478563, 3, 0.145067, -0.440975, -3, -0.235709, -0.46202, 3, -0.191366, -0.440975, -3, 0.235611, -0.46202, 3, 0.191269, -0.415818, -3, -0.2778, -0.440975, 3, -0.235709, -0.415818, -3, 0.277702, -0.440975, 3, 0.235611, -0.386551, -3, -0.317247, -0.415818, 3, -0.2778, -0.386551, -3, 0.31715, -0.415818, 3, 0.277702, -0.353563, -3, -0.353563, -0.386551, 3, -0.317247, -0.353563, -3, 0.353465, -0.386551, 3, 0.31715, -0.317247, -3, -0.386551, -0.353563, 3, -0.353563, -0.317247, -3, 0.386453, -0.353563, 3, 0.353465, -0.2778, -3, -0.415818, -0.317247, 3, -0.386551, -0.2778, -3, 0.41572, -0.317247, 3, 0.386453, -0.235709, -3, -0.440975, -0.2778, 3, -0.415818, -0.235709, -3, 0.440877, -0.2778, 3, 0.41572, -0.191366, -3, -0.46202, -0.235709, 3, -0.440975, -0.191366, -3, 0.461922, -0.235709, 3, 0.440877, -0.145164, -3, -0.478563, -0.191366, 3, -0.46202, -0.145164, -3, 0.478465, -0.191366, 3, 0.461922, -0.097592, -3, -0.490407, -0.145164, 3, -0.478563, -0.097592, -3, 0.490309, -0.145164, 3, 0.478465, -0.0490407, -3, -0.497651, -0.097592, 3, -0.490407, -0.0490407, -3, 0.497553, -0.097592, 3, 0.490309, 0, -3, -0.5, -0.0490407, 3, -0.497651, 0, -3, 0.5, -0.0490407, 3, 0.497553, 0.0489429, -3, -0.497651, 0, 3, -0.5, 0.0489429, -3, 0.497553, 0, 3, 0.5, 0.0974941, -3, -0.490407, 0.0489429, 3, -0.497651, 0.0974941, -3, 0.490309, 0.0489429, 3, 0.497553, 0.145067, -3, -0.478563, 0.0974941, 3, -0.490407, 0.145067, -3, 0.478465, 0.0974941, 3, 0.490309, 0.191269, -3, -0.46202, 0.145067, 3, -0.478563, 0.191269, -3, 0.461922, 0.145067, 3, 0.478465, 0.235611, -3, -0.440975, 0.191269, 3, -0.46202, 0.235611, -3, 0.440877, 0.191269, 3, 0.461922, 0.277702, -3, -0.415818, 0.235611, 3, -0.440975, 0.277702, -3, 0.41572, 0.235611, 3, 0.440877, 0.31715, -3, -0.386551, 0.277702, 3, -0.415818, 0.31715, -3, 0.386453, 0.277702, 3, 0.41572, 0.353465, -3, -0.353563, 0.31715, 3, -0.386551, 0.353465, -3, 0.353465, 0.31715, 3, 0.386453, 0.386453, -3, -0.317247, 0.353465, 3, -0.353563, 0.386453, -3, 0.31715, 0.353465, 3, 0.353465, 0.41572, -3, -0.2778, 0.386453, 3, -0.317247, 0.41572, -3, 0.277702, 0.386453, 3, 0.31715, 0.440877, -3, -0.235709, 0.41572, 3, -0.2778, 0.440877, -3, 0.235611, 0.41572, 3, 0.277702, 0.461922, -3, -0.191366, 0.440877, 3, -0.235709, 0.461922, -3, 0.191269, 0.440877, 3, 0.235611, 0.478465, -3, -0.145164, 0.461922, 3, -0.191366, 0.478465, -3, 0.145067, 0.461922, 3, 0.191269, 0.490309, -3, -0.097592, 0.478465, 3, -0.145164, 0.490309, -3, 0.0974941, 0.478465, 3, 0.145067, 0.497553, -3, -0.0490407, 0.490309, 3, -0.097592, 0.497553, -3, 0.0489429, 0.490309, 3, 0.0974941, 0.5, -3, 0, 0.497553, 3, -0.0490407, 0.497553, 3, 0.0489429, 0.5, 3, 0)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_m2g8r"]
albedo_color = Color(0.498039, 0.356863, 0.160784, 1)

[sub_resource type="BoxMesh" id="BoxMesh_4h0em"]

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_rj3yg"]
points = PackedVector3Array(0.5, 0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_xre7y"]
points = PackedVector3Array(0.5, 0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_3jgmk"]
points = PackedVector3Array(0.5, 0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_x0mik"]
points = PackedVector3Array(-0.5, -0.5, -0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_dw08c"]
points = PackedVector3Array(-0.5, -0.5, -0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_5ci5h"]
points = PackedVector3Array(-0.5, -0.5, -0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5)

[sub_resource type="BoxMesh" id="BoxMesh_p806c"]
size = Vector3(50, 1, 50)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_6a6ne"]
albedo_texture = ExtResource("1_vwi8n")

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_u8gew"]
points = PackedVector3Array(-25, -0.5, -25, -25, 0.5, -25, 25, -0.5, -25, -25, -0.5, 25, -25, 0.5, 25, 25, 0.5, -25, 25, -0.5, 25, 25, 0.5, 25)

[sub_resource type="BoxMesh" id="BoxMesh_b1n37"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_qfjlm"]
albedo_texture = ExtResource("1_vwi8n")

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_2l81m"]
points = PackedVector3Array(0.5, 0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5)

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_8ulno"]

[sub_resource type="BoxShape3D" id="BoxShape3D_qfhdf"]
size = Vector3(0.8, 0.2, 0.8)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_bjdh1"]
albedo_color = Color(0, 0, 0, 1)

[sub_resource type="BoxMesh" id="BoxMesh_5b3v0"]

[sub_resource type="Skin" id="Skin_80bqf"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_17ua6"]
albedo_color = Color(0, 0, 0, 1)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_26f5h"]
points = PackedVector3Array(0.5, 0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5)

[node name="Game" type="Node3D"]

[node name="Sky" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_k1gny")

[node name="Trees" type="Node3D" parent="."]

[node name="Tree" type="StaticBody3D" parent="Trees"]

[node name="Trunk" type="MeshInstance3D" parent="Trees/Tree"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -44.8049, 3.54776, 0)
material_override = SubResource("StandardMaterial3D_00s44")
mesh = SubResource("CylinderMesh_wxr1h")
surface_material_override/0 = SubResource("StandardMaterial3D_xrejx")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Trees/Tree"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -44.8049, 3.54776, 0)
shape = SubResource("ConvexPolygonShape3D_lknb0")

[node name="Sprite3D" type="Sprite3D" parent="Trees/Tree"]
transform = Transform3D(5, 0, 0, 0, 5, 0, 0, 0, 10, -44.6848, 6.53793, 0)
texture = ExtResource("2_qm07b")

[node name="Sprite3D2" type="Sprite3D" parent="Trees/Tree"]
transform = Transform3D(-0.387771, 0, 9.96988, 0, 5, 0, -4.98494, 0, -0.775543, -44.6848, 6.53793, 0)
texture = ExtResource("2_qm07b")

[node name="Sprite3D3" type="Sprite3D" parent="Trees/Tree"]
transform = Transform3D(3.5731, 0, -6.99514, 0, 5, 0, 3.49757, 0, 7.14619, -44.6848, 6.53793, 0)
texture = ExtResource("2_qm07b")

[node name="Sprite3D4" type="Sprite3D" parent="Trees/Tree"]
transform = Transform3D(-3.03646, 0, -7.94478, 0, 5, 0, 3.97239, 0, -6.07293, -44.6848, 6.53793, 0)
texture = ExtResource("2_qm07b")

[node name="Tree2" type="StaticBody3D" parent="Trees"]
axis_lock_linear_x = true
axis_lock_linear_y = true
axis_lock_angular_x = true
axis_lock_angular_y = true

[node name="Trunk" type="MeshInstance3D" parent="Trees/Tree2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -44.8049, 3.54776, 4.61904)
material_override = SubResource("StandardMaterial3D_00s44")
mesh = SubResource("CylinderMesh_wxr1h")
surface_material_override/0 = SubResource("StandardMaterial3D_xrejx")

[node name="Sprite3D" type="Sprite3D" parent="Trees/Tree2/Trunk"]
transform = Transform3D(5, 0, 0, 0, 5, 0, 0, 0, 10, 0.120029, 2.99017, 0)
texture = ExtResource("2_qm07b")

[node name="Sprite3D2" type="Sprite3D" parent="Trees/Tree2/Trunk"]
transform = Transform3D(-0.387771, 0, 9.96988, 0, 5, 0, -4.98494, 0, -0.775543, 0.120029, 2.99017, 0)
texture = ExtResource("2_qm07b")

[node name="Sprite3D3" type="Sprite3D" parent="Trees/Tree2/Trunk"]
transform = Transform3D(3.5731, 0, -6.99514, 0, 5, 0, 3.49757, 0, 7.14619, 0.120029, 2.99017, 0)
texture = ExtResource("2_qm07b")

[node name="Sprite3D4" type="Sprite3D" parent="Trees/Tree2/Trunk"]
transform = Transform3D(-3.03646, 0, -7.94478, 0, 5, 0, 3.97239, 0, -6.07293, 0.120029, 2.99017, 0)
texture = ExtResource("2_qm07b")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Trees/Tree2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -44.805, 3.548, 4.619)
shape = SubResource("ConvexPolygonShape3D_lknb0")

[node name="Church" type="StaticBody3D" parent="."]

[node name="CSGBox3D" type="CSGBox3D" parent="Church"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 18.8998, 6.99171, 0)
use_collision = true
size = Vector3(10.8695, 12.7183, 7.74319)
material = SubResource("StandardMaterial3D_m2g8r")

[node name="CSGBox3D" type="CSGBox3D" parent="Church/CSGBox3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0255527, 0.458228, 0)
operation = 2
size = Vector3(10.3838, 11.3337, 7.0835)

[node name="CSGBox3D2" type="CSGBox3D" parent="Church/CSGBox3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.25045, 0, 0)
operation = 2
size = Vector3(7.58782, 2.83675, 2.13792)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Church"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 3, 12.9595, 5.08514, 0)
mesh = SubResource("BoxMesh_4h0em")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Church"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 3, 12.9595, 5.08514, 0)
shape = SubResource("ConvexPolygonShape3D_rj3yg")

[node name="MeshInstance3D2" type="MeshInstance3D" parent="Church"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 3, 11.9175, 4.1681, 0)
mesh = SubResource("BoxMesh_4h0em")

[node name="CollisionShape3D2" type="CollisionShape3D" parent="Church"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 3, 11.9175, 4.1681, 0)
shape = SubResource("ConvexPolygonShape3D_xre7y")

[node name="MeshInstance3D3" type="MeshInstance3D" parent="Church"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 3, 10.7376, 3.33198, 0)
mesh = SubResource("BoxMesh_4h0em")

[node name="CollisionShape3D3" type="CollisionShape3D" parent="Church"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 3, 10.7376, 3.33198, 0)
shape = SubResource("ConvexPolygonShape3D_3jgmk")

[node name="MeshInstance3D4" type="MeshInstance3D" parent="Church"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 3, 9.72486, 2.36056, 0)
mesh = SubResource("BoxMesh_4h0em")

[node name="CollisionShape3D4" type="CollisionShape3D" parent="Church"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 3, 9.72486, 2.36056, 0)
shape = SubResource("ConvexPolygonShape3D_x0mik")

[node name="MeshInstance3D5" type="MeshInstance3D" parent="Church"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 3, 8.48575, 1.40905, 0)
mesh = SubResource("BoxMesh_4h0em")

[node name="CollisionShape3D5" type="CollisionShape3D" parent="Church"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 3, 8.48575, 1.40905, 0)
shape = SubResource("ConvexPolygonShape3D_dw08c")

[node name="MeshInstance3D6" type="MeshInstance3D" parent="Church"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 3, 7.66503, 0.602323, 0)
mesh = SubResource("BoxMesh_4h0em")

[node name="CollisionShape3D6" type="CollisionShape3D" parent="Church"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 3, 7.66503, 0.602323, 0)
shape = SubResource("ConvexPolygonShape3D_5ci5h")

[node name="Ground" type="StaticBody3D" parent="."]

[node name="MeshInstance3D" type="MeshInstance3D" parent="Ground"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0343266, 0.210026, -0.118886)
mesh = SubResource("BoxMesh_p806c")
surface_material_override/0 = SubResource("StandardMaterial3D_6a6ne")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Ground"]
shape = SubResource("ConvexPolygonShape3D_u8gew")

[node name="OtherGround" type="StaticBody3D" parent="."]

[node name="MeshInstance3D" type="MeshInstance3D" parent="OtherGround"]
transform = Transform3D(20, 0, 0, 0, 1, 0, 0, 0, 20, -34.8732, 0.21, 0)
mesh = SubResource("BoxMesh_b1n37")
surface_material_override/0 = SubResource("StandardMaterial3D_qfjlm")

[node name="CollisionShape3D" type="CollisionShape3D" parent="OtherGround"]
transform = Transform3D(20, 0, 0, 0, 1, 0, 0, 0, 20, -34.8732, 0.21, 0)
shape = SubResource("ConvexPolygonShape3D_2l81m")

[node name="player" type="CharacterBody3D" parent="."]
transform = Transform3D(-0.217172, 0, -0.976133, 0, 1, 0, 0.976133, 0, -0.217172, -41.741, 0, 0.257946)
script = ExtResource("1_th5q2")

[node name="Body" type="CollisionShape3D" parent="player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.6, 0)
shape = SubResource("CapsuleShape3D_8ulno")

[node name="Feet" type="CollisionShape3D" parent="player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.8, 0)
shape = SubResource("BoxShape3D_qfhdf")

[node name="Pivot" type="Node3D" parent="player"]

[node name="Camera3D" type="Camera3D" parent="player/Pivot"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.04349, -0.531081)
current = true
fov = 110.0
script = ExtResource("2_5gf7x")

[node name="MeshInstance3D" type="MeshInstance3D" parent="player/Pivot"]
transform = Transform3D(-0.226498, 0, -0.974012, 0, 1, 0, 0.974012, 0, -0.226498, -0.495019, 1.87754, -1.04193)
mesh = ExtResource("2_txnf1")
surface_material_override/0 = SubResource("StandardMaterial3D_bjdh1")

[node name="Menu" type="Control" parent="."]
process_mode = 3
visible = false
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("4_vegvx")

[node name="ColorRect" type="ColorRect" parent="Menu"]
layout_mode = 0
offset_right = 1145.0
offset_bottom = 647.0
color = Color(0, 0, 0, 0.2)

[node name="Restart" type="Button" parent="Menu"]
layout_mode = 0
offset_left = 425.0
offset_top = 289.0
offset_right = 732.0
offset_bottom = 334.0
text = "restart"

[node name="Quit" type="Button" parent="Menu"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -506.0
offset_top = -184.0
offset_right = -251.0
offset_bottom = -129.0
grow_horizontal = 2
grow_vertical = 2
text = "Quit
"

[node name="boundary" type="StaticBody3D" parent="."]

[node name="MeshInstance3D" type="MeshInstance3D" parent="boundary"]
transform = Transform3D(-4.37114e-07, -1, 0, 10, -4.37114e-08, 0, 0, 0, 20, -45.3512, 1.25854, 0)
mesh = SubResource("BoxMesh_5b3v0")
skin = SubResource("Skin_80bqf")
surface_material_override/0 = SubResource("StandardMaterial3D_17ua6")

[node name="CollisionShape3D" type="CollisionShape3D" parent="boundary"]
transform = Transform3D(-4.37114e-07, -1, 0, 10, -4.37114e-08, 0, 0, 0, 20, -45.3512, 1.25854, 0)
shape = SubResource("ConvexPolygonShape3D_26f5h")

[connection signal="pressed" from="Menu/Restart" to="Menu" method="_on_restart_pressed"]
[connection signal="pressed" from="Menu/Quit" to="Menu" method="_on_quit_pressed"]
